.user-management-page .search-filter-section .col {
  width: 100%;
}

.user-management-page .search-filter-section .search-bar-mobile,
.user-management-page .search-filter-section .filter-panel-mobile {
  width: 100%;
}

/* CSS Variables - MINIMAL changes to reduce reflow */
.user-management-page {
  --table-font-size: 0.875rem;
  --table-font-size-collapsed: 0.85rem; /* Reduced change: 0.875rem → 0.85rem (smaller diff) */
  --table-padding-x: 0.75rem;
  --table-padding-x-collapsed: 0.6rem; /* Reduced change */
  --table-padding-y: 0.875rem;
  --table-padding-y-collapsed: 0.7rem; /* Reduced change */
}

.user-management-page .user-management-table-wrapper {
  overflow: hidden;
  border-radius: 0.75rem;
  background-color: #fff;
  /* Performance optimizations - isolate layout changes */
  contain: layout style paint;
  /* GPU acceleration */
  transform: translateZ(0);
  backface-visibility: hidden;
  /* Prevent layout shifts */
  isolation: isolate;
}

/* Optimize scrollable table container within user-management-page */
.user-management-page .scrollable-table-container {
  /* Performance optimizations for scrolling */
  contain: layout style paint;
  /* Smooth scrolling */
  -webkit-overflow-scrolling: touch;
  /* GPU acceleration */
  transform: translateZ(0);
  /* NO will-change - only add when actually scrolling */
}

.user-management-page .user-management-table-wrapper .table {
  width: 100%;
  min-width: 0;
  font-size: var(--table-font-size);
  /* NO transition for font-size - causes expensive reflow */
}

.user-management-page .user-management-table-wrapper .table th,
.user-management-page .user-management-table-wrapper .table td {
  white-space: nowrap;
  padding: var(--table-padding-y) var(--table-padding-x);
  font-size: var(--table-font-size);
  /* Only transition padding, NOT font-size (causes expensive reflow) */
  transition: padding 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Email column - always have max-width and ellipsis to prevent overlap */
.user-management-page .user-management-table-wrapper .table th:nth-child(3),
.user-management-page .user-management-table-wrapper .table td:nth-child(3) {
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.user-management-page .user-management-table-wrapper .table th {
  font-size: var(--table-font-size);
}

.user-management-page .scroll-indicator {
  right: 1rem;
  left: auto;
  transform: none;
}

@media (max-width: 992px) {
  .user-management-page .search-filter-section {
    flex-direction: column;
  }

  .user-management-page .search-filter-section .col {
    margin-bottom: 1rem;
  }

  .user-management-page .scroll-indicator {
    position: static;
    margin-top: 0.5rem;
    text-align: center;
  }
}

@media (max-width: 768px) {
  .user-management-page .user-management-table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 0.5rem;
  }

  .user-management-page .user-management-table-wrapper .table {
    min-width: 700px;
  }
}

@media (max-width: 576px) {
  .user-management-page .user-management-table-wrapper .table {
    min-width: 650px;
  }

  .user-management-page .user-management-table-wrapper .table th,
  .user-management-page .user-management-table-wrapper .table td {
    font-size: 0.8rem;
  }

  .user-management-page .search-filter-section .text-mobile-center {
    text-align: left !important;
  }
}

/* ⭐ Sidebar Collapsed: MINIMAL changes to prevent lag */
@media (min-width: 769px) {
  /* Update CSS variables - MINIMAL changes only */
  .sidebar-collapsed-active .user-management-page {
    --table-font-size: var(--table-font-size-collapsed);
    --table-padding-x: var(--table-padding-x-collapsed);
    --table-padding-y: var(--table-padding-y-collapsed);
  }

  /* Table container - NO transitions, instant change */
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper {
    overflow-x: auto;
  }
  
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper .table {
    min-width: 0 !important;
    width: 100% !important;
  }
  
  /* REMOVED: Text wrapping causes expensive reflow - use ellipsis instead */
  /* Instead of wrapping, use text-overflow: ellipsis for better performance */
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper .table td:nth-child(2), /* Full Name */
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper .table td:nth-child(3) { /* Email */
    white-space: nowrap !important; /* Keep nowrap - NO wrapping */
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 150px; /* Increased from 120px to prevent overlap */
  }
  
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper .table th:nth-child(2),
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper .table th:nth-child(3) {
    white-space: nowrap !important; /* Keep nowrap */
  }
  
  /* Ensure role column has minimum width to prevent being squeezed */
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper .table td:nth-child(4), /* Role */
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper .table th:nth-child(4) {
    min-width: 100px; /* Ensure role badge has enough space */
  }

  /* Badge - MINIMAL change, no transition */
  .sidebar-collapsed-active .user-management-page .badge {
    font-size: 0.7rem !important; /* Direct value, no variable */
    padding: 0.25rem 0.5rem !important;
    /* NO transition - instant change */
  }
  
  /* Icons - MINIMAL change, no transition */
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper .table svg {
    width: 16px !important; /* Direct value */
    height: 16px !important; /* Direct value */
    /* NO transition - instant change */
  }

  /* Table header - keep same font-size, just adjust weight */
  .sidebar-collapsed-active .user-management-page .user-management-table-wrapper .table th {
    font-weight: 600 !important;
    /* NO font-size change - reduces reflow */
  }
}

/* Optimize table row hover - scope to user-management-page only */
.user-management-page .user-management-row {
  transition: background-color 0.15s ease; /* Faster transition */
  /* NO will-change - only add on hover */
}

/* Add will-change only on hover to save resources */
.user-management-page .user-management-row:hover {
  will-change: background-color;
}

/* Optimize SortableHeader transitions - only on hover, not on sidebar collapse */
.user-management-page .scrollable-table-container .table thead th {
  /* NO transition here - only add on hover to prevent lag during sidebar collapse */
}

/* Optimize table header hover - scope to user-management-page */
.user-management-page .scrollable-table-container .table thead th:hover {
  transition: transform 0.2s ease, 
              background-color 0.2s ease,
              box-shadow 0.2s ease;
  will-change: transform;
}

